<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="logo.png">
    <title>300</title>

    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap');

        * {
            font-family: 'Gowun Dodum', sans-serif;
        }

        .mybtn {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
            margin: 20px auto 20px auto;
        }

        .mb-3 {
            width: 500px;
            padding: 20px 20px 20px 20px;
            margin: 20px auto 20px auto;
            border: 1px solid black;
        }

        .mytitle {
            width: auto;
            height: 100px;
            background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiKSbULsqtedtALbN5i12qLBggJrcZyI9-0QP46feW3w&s");
            color: red;
            text-align: center;
            /* 가운데정렬*/
            padding: 100px 0;
        }

        .word {
            color: white;
        }

        .card {
            padding: 10px;
            margin-top: 40px;
            margin-bottom: 40px;


        }

        .team {
            color: red;
            text-align: center;
        }

        .container {
            text-align: center;
        }
    </style>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-analytics.js";
        import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { query, orderBy } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js"

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey:
                authDomain:
            projectId:
                storageBucket:
            messagingSenderId:
                appId:
            measurementId: 
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);



        $("#save").click(async function () {
            let name = $('#nick').val();
            let result = $('#comment').val();
            if (name.trim() === '' || result.trim() === '') {
                alert('닉네임과 댓글을 작성해주세요!');
                return;
            }

            $('#nick').val('');
            $('#comment').val('');

            let date = new Date().toLocaleDateString();
            let time = new Date().toLocaleTimeString();

            let doc = {
                'name': name,
                'result': result,
                'date': date,
                'time': time,

            };
            await addDoc(collection(db, "albums"), doc);
            alert('저장 완료!');
            window.location.reload();
        });


        let docs = await getDocs(query(collection(db, "albums"), orderBy("time", "desc")));
        docs.forEach((doc) => {
            let row = doc.data();
            let name = row['name'];
            let date = row['date'];
            let result = row['result'];
            let time = row['time'];

            let temp_html = `<tr>
                        <td>${name}</td>
                        <td>${result}</td>
                        <td>${date}</td>
                        <td>${time}</td>
                      </tr>`;
            $('#visit').append(temp_html);
        });

    </script>
</head>

<body>
    <div class="mytitle">
        <h1> </h1>
        <h4 class="word"></h4>
    </div>
    <div class="team">
        <h1>Team 300</h1>
        <h2>개발자를 꿈꾸는 비전공자 4용사들의 처절한 사투</h2>
    </div>
    <div style="padding:100px">
        <h1> </h1>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <!-- 이미지를 클릭하여 링크로 이동 -->
                <a href="jiwon.html">
                    <img class="bd-placeholder-img rounded-circle"
                        src="https://lh5.googleusercontent.com/proxy/z2VhuDdgpT_eyZxb665YyTjL0IOV3ggz5dm8MuYvDF--FKfRvExGZq048mkgg1OUyHwQY8m8iGw1A8ybJ6x7vUEptHuTp9d4T6kYmvS8GdkF1Hodt8KvujGrcQPlh9ZBaOE"
                        alt="Your Image" width="140" height="140">
                </a>
                <h2 class="fw-normal">이지원</h2>

            </div>
            <div class="col-lg-4">
                <a href="mujun.html">
                    <img class="bd-placeholder-img rounded-circle"
                        src="https://imgnn.seoul.co.kr/img/upload/2020/08/18/SSI_20200818152435_V.jpg" alt="Your Image"
                        width="140" height="140">
                </a>
                <h2 class="fw-normal">이무준</h2>

            </div>
            <div class="col-lg-4">
                <a href="hjp.html">
                    <img class="bd-placeholder-img rounded-circle"
                        src="https://lh5.googleusercontent.com/proxy/z2VhuDdgpT_eyZxb665YyTjL0IOV3ggz5dm8MuYvDF--FKfRvExGZq048mkgg1OUyHwQY8m8iGw1A8ybJ6x7vUEptHuTp9d4T6kYmvS8GdkF1Hodt8KvujGrcQPlh9ZBaOE"
                        alt="Your Image" width="140" height="140">
                </a>
                <h2 class="fw-normal">박형조</h2>

            </div>
        </div>
    </div>
    <div class="mb-3">
        <label for="nick" class="form-label">닉네임</label>
        <input type="text" class="form-control" id="nick" placeholder="닉네임">
        <label for="comment" class="form-label">댓글</label>
        <textarea class="form-control" id="comment" rows="3"></textarea>
        <div class="mybtn">
            <button type="button" id="save" class="btn btn-primary">기록하기</button>
        </div>
    </div>
    <div>
        <div class="container">
            <table class="table" id="visit">
                <thead>
                    <tr>
                        <th width="10%" scope="col">작성자</th>
                        <th width="60%" scope="col">댓글 내용</th>
                        <th width="10%" scope="col">작성일자</th>
                        <th width=10% scope="col">작성시간</th>
                    </tr>
                </thead>

            </table>
        </div>
    </div>
    <div>
    </div>
</body>

</html>